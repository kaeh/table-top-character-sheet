<section>
  <h2>{{ Labels.title }}</h2>
  <p>Création de personnage</p>
</section>

<form [formGroup]="creationGroup">
  <section formGroupName="general">
    <h3>Général</h3>
    <section class="flex flex-row flex-wrap gap-4">
      <label hlmLabel>
        {{ Labels.character.general.firstName }}
        <input hlmInput type="text" [placeholder]="Labels.character.general.firstName" formControlName="firstName" />
      </label>
      <label hlmLabel>
        {{ Labels.character.general.lastName }}
        <input hlmInput type="text" [placeholder]="Labels.character.general.lastName" formControlName="lastName" />
      </label>
      <label hlmLabel>
        {{ Labels.character.general.age }} ({{ Labels.character.general.luck }} : {{ luck$$() }})
        <input hlmInput formControlName="age" [min]="ageRange.min" [max]="ageRange.max" />
      </label>
      <label hlmLabel>
        {{ Labels.character.general.archetype }}
        <input hlmInput type="text" [placeholder]="Labels.character.general.archetype" formControlName="archetype" />
      </label>
      <label hlmLabel>
        {{ Labels.character.general.fetish }}
        <input hlmInput type="text" [placeholder]="Labels.character.general.fetish" formControlName="fetish" />
      </label>
      <label hlmLabel>
        {{ Labels.character.general.favoriteSong }}
        <input hlmInput type="text" [placeholder]="Labels.character.general.favoriteSong"
          formControlName="favoriteSong" />
      </label>
      <label hlmLabel>
        {{ Labels.character.general.problem }}
        <input hlmInput type="text" [placeholder]="Labels.character.general.problem" formControlName="problem" />
      </label>
      <label hlmLabel>
        {{ Labels.character.general.drive }}
        <input hlmInput type="text" [placeholder]="Labels.character.general.drive" formControlName="drive" />
      </label>
    </section>
  </section>

  <section formGroupName="attributes">
    <h3>Attributs</h3>
    <section class="flex flex-row flex-wrap gap-4">
      <label hlmLabel
        *ngFor="let attribute of creationGroup.controls.attributes.controls | kaehControlsToKeysLabels: Labels.character.attributes">
        {{ attribute.label }}
        <input hlmInput type="number" [formControlName]="attribute.key" [min]="attributeRange.min"
          [max]="attributeRange.max" />
      </label>
    </section>
  </section>

  <section formGroupName="skills">
    <h3>Compétences</h3>
    <section class="flex flex-row flex-wrap gap-4">
      <label hlmLabel
        *ngFor="let skill of creationGroup.controls.skills.controls | kaehControlsToKeysLabels: Labels.character.skills">
        {{ skill.label }}
        <input hlmInput type=" number" [formControlName]="skill.key" [min]="skillRange.min" [max]="skillRange.max" />
      </label>
    </section>
  </section>

  <section>
    <button hlmBtn [disabled]="!creationGroup.valid" (click)="createCharacter()">Valider</button>
  </section>
</form>